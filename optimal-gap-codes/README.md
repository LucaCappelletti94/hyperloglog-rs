# Optimal gap codes
A rayon-parallelized utility to determine which encoding is more space efficient for a given
precision, number of bits, hash size and hasher.

## How to run
As usual, just run:

```bash
RUSTFLAGS='-C target-cpu=native' cargo run --release
```

## Results
The results will be stored in the `reports` directory in this directory, as a gzipped CSV file.
The header of the CSV file is as follows, and is sorted by the `gap` column:

```
gap,count
3,2323
4,123
5,123
```

## Some results for XXhasher

| Precision | Bits | Hash | Entropy   | Improvement |
|-----------|------|------|-----------|-------------|
| 18        | 5    | 3    | 9.4753    | 2.5329      |
| 18        | 4    | 3    | 9.8542    | 2.4355      |
| 17        | 6    | 3    | 10.1821   | 2.3571      |
| 17        | 5    | 3    | 10.4739   | 2.2914      |
| 17        | 4    | 3    | 10.8532   | 2.2113      |
| 16        | 6    | 3    | 11.1812   | 2.1465      |
| 16        | 5    | 3    | 11.4729   | 2.0919      |
| 16        | 4    | 3    | 11.8525   | 2.0249      |
| 15        | 6    | 3    | 12.1806   | 1.9703      |
| 4         | 4    | 4    | 16.6096   | 1.9266      |
| 15        | 5    | 3    | 12.4724   | 1.9242      |
| 15        | 4    | 3    | 12.8520   | 1.8674      |
| 14        | 6    | 3    | 13.1801   | 1.8209      |
| 18        | 6    | 4    | 17.5954   | 1.8187      |
| 10        | 5    | 2    | 8.8860    | 1.8006      |
| 18        | 5    | 4    | 17.8870   | 1.7890      |
| 14        | 5    | 3    | 13.4718   | 1.7815      |
| 5         | 4    | 4    | 18.1944   | 1.7588      |
| 4         | 6    | 4    | 18.1944   | 1.7588      |
| 4         | 5    | 4    | 18.1944   | 1.7588      |
| 18        | 4    | 4    | 18.2666   | 1.7518      |
| 14        | 4    | 3    | 13.8516   | 1.7326      |
| 10        | 4    | 2    | 9.2638    | 1.7272      |
| 17        | 6    | 4    | 18.5949   | 1.7209      |
| 17        | 5    | 4    | 18.8863   | 1.6944      |
| 13        | 6    | 3    | 14.1793   | 1.6926      |
| 5         | 6    | 4    | 18.9311   | 1.6903      |
| 5         | 5    | 4    | 18.9311   | 1.6903      |
| 9         | 6    | 2    | 9.5894    | 1.6685      |
| 17        | 4    | 4    | 19.2656   | 1.6610      |
| 13        | 5    | 3    | 14.4714   | 1.6584      |
| 6         | 4    | 4    | 19.4162   | 1.6481      |
| 16        | 6    | 4    | 19.5932   | 1.6332      |
| 9         | 5    | 2    | 9.8799    | 1.6194      |
| 6         | 5    | 4    | 19.7781   | 1.6179      |
| 13        | 4    | 3    | 14.8505   | 1.6161      |
| 16        | 5    | 4    | 19.8840   | 1.6093      |
| 6         | 6    | 4    | 20.0669   | 1.5947      |
| 12        | 6    | 3    | 15.1777   | 1.5813      |
| 16        | 4    | 4    | 20.2622   | 1.5793      |
| 7         | 4    | 4    | 20.5130   | 1.5600      |
| 9         | 4    | 2    | 10.2567   | 1.5599      |
| 15        | 6    | 4    | 20.5877   | 1.5543      |
| 12        | 5    | 3    | 15.4693   | 1.5515      |
| 7         | 5    | 4    | 20.8517   | 1.5346      |
| 15        | 5    | 4    | 20.8763   | 1.5328      |
| 4         | 4    | 1    | 5.2244    | 1.5313      |
| 7         | 6    | 4    | 21.1245   | 1.5148      |
| 12        | 4    | 3    | 15.8485   | 1.5143      |
| 8         | 6    | 2    | 10.5805   | 1.5122      |
| 15        | 4    | 4    | 21.2507   | 1.5058      |
| 8         | 4    | 4    | 21.5495   | 1.4850      |
| 11        | 6    | 3    | 16.1730   | 1.4840      |
| 14        | 6    | 4    | 21.5689   | 1.4836      |
| 8         | 5    | 2    | 10.8693   | 1.4720      |
| 14        | 5    | 4    | 21.8505   | 1.4645      |
| 8         | 5    | 4    | 21.8715   | 1.4631      |
| 11        | 5    | 3    | 16.4648   | 1.4577      |
| 8         | 6    | 4    | 22.1295   | 1.4460      |
| 14        | 4    | 4    | 22.2126   | 1.4406      |
| 11        | 4    | 3    | 16.8397   | 1.4252      |
| 8         | 4    | 2    | 11.2439   | 1.4230      |
| 13        | 6    | 4    | 22.5083   | 1.4217      |
| 9         | 4    | 4    | 22.5298   | 1.4203      |
| 13        | 5    | 4    | 22.7678   | 1.4055      |
| 9         | 5    | 4    | 22.8206   | 1.4022      |
| 10        | 6    | 3    | 17.1591   | 1.3987      |
| 9         | 6    | 4    | 23.0445   | 1.3886      |
| 13        | 4    | 4    | 23.0920   | 1.3858      |
| 7         | 6    | 2    | 11.5636   | 1.3836      |
| 10        | 5    | 3    | 17.4459   | 1.3757      |
| 12        | 6    | 4    | 23.3225   | 1.3721      |
| 10        | 4    | 4    | 23.3807   | 1.3687      |
| 12        | 5    | 4    | 23.5191   | 1.3606      |
| 10        | 5    | 4    | 23.8359   | 1.3446      |
| 12        | 4    | 4    | 23.9475   | 1.3383      |
| 11        | 6    | 4    | 24.1145   | 1.3294      |
| 11        | 5    | 4    | 24.3117   | 1.3213      |
| 11        | 4    | 4    | 24.7399   | 1.2998      |
| 10        | 6    | 4    | 24.7674   | 1.2983      |
| 10        | 4    | 3    | 18.2637   | 1.2867      |
| 6         | 5    | 1    | 8.1795    | 1.2838      |
| 10        | 5    | 1    | 7.8889    | 1.2798      |